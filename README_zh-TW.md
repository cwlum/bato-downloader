# 通用漫畫下載器 (v3.0)

![Version](https://img.shields.io/badge/version-3.1.0-purple)
![License](https://img.shields.io/badge/License-CC%20BY--NC--SA%204.0-lightgrey.svg)

一個可擴充、使用者友善的圖形化工具，可以從多個網站下載漫畫章節，並自動轉換成單一的 PDF 檔案。

本工具建構於一個**模組化的解析引擎**之上，使其能輕鬆適應未來網站的變更，並能擴充以支援新的網站。

---

## 亮點功能

-   ✅ **模組化解析引擎**：智慧地輪詢所有可用的解析器，以找到適用於特定網址的解析方案。具備高度擴充性，方便未來支援新網站。
-   ✅ **零設定安裝**：首次執行時，會自動安裝所有需要的函式庫。
-   ✅ **一鍵轉 PDF**：瞬間將所有下載的圖片合併成一個高品質的 PDF 檔案。
-   ✅ **智慧資料夾管理**：使用漫畫標題和章節名稱自動建立資料夾。
-   ✅ **進階網路抓取**：使用 `cloudscraper` 繞過如 Cloudflare 等反機器人保護機制。
-   ✅ **跨平台支援**：在 Windows、macOS 和 Linux 上都能完美運作。

---

## 開始之前：唯一的前置需求

您唯一需要的東西就是 **Python 3**。

#### 如何檢查是否已安裝 Python 3？

打開「終端機」或「命令提示字元」，輸入 `python3 --version`（或 `python --version`）。如果您看到版本號，就代表準備好了。若沒有，請至 [Python 官方網站](https://www.python.org/downloads/)下載，並在安裝時務必勾選 **"Add Python to PATH"**。

---

## 如何使用：三步快速上手

#### 步驟一：下載本工具
1.  前往本專案的 GitHub 頁面。
2.  點擊綠色的 **`< > Code`** 按鈕 -> **`Download ZIP`**。
3.  解壓縮下載的檔案。

#### 步驟二：找到並執行
1.  打開解壓縮後的資料夾。
2.  **在此資料夾中開啟終端機**：
    -   **Windows**: 在資料夾的網址列輸入 `cmd` 並按 Enter。
    -   **macOS**: 在 Finder 視窗頂端的資料夾名稱上點右鍵，選擇「新增位於檔案夾位置的終端機標籤頁」。
3.  在終端機中輸入 `python3 manga_downloader.py` 並按 Enter。

#### 步驟三：複製貼上，開始下載
1.  程式的圖形介面將會出現。（首次執行時可能會暫停一下以自動安裝函式庫）。
2.  從支援的網站（目前為 Bato.to 及其鏡像站）複製一個漫畫**章節**的網址。
3.  將網址貼到輸入框中，然後點擊「Download」。
4.  程式會自動尋找合適的解析器、下載圖片，並將最終的 PDF 儲存到您系統的「下載」資料夾中。

---

## 開發者指南：如何新增一個解析器

本工具的強項在於其模組化設計。要支援一個新網站，您無需修改主程式。

1.  在 `/parsers` 資料夾中建立一個新的解析器檔案（例如 `my_site_parser.py`）。
2.  建立一個繼承自 `BaseParser` 的解析器類別。
3.  實作 `can_parse` 和 `parse` 方法：
    -   `can_parse(soup, url)`: 快速檢查您的解析器是否能處理該頁面（例如，檢查特定的 HTML 標籤或網址格式）。
    -   `parse(soup, url)`: 撰寫核心邏輯，用來提取 `title`、`chapter` 和 `image_urls`（圖片網址列表）。回傳一個包含這些鍵的字典。
4.  **完成！** 主腳本將會自動偵測並使用您的新解析器。

---

## 疑難排解

-   **"No suitable parser found" (找不到合適的解析器)**：代表這個網址來自一個尚未被支援的網站或頁面佈局。
-   **視窗一閃而過**：請檢查終端機中的錯誤訊息。
-   **下載失敗**：請檢查您的網路連線和網址。

## 授權

本專案採用 [Creative Commons 姓名標示-非商業性-相同方式分享 4.0 國際 (CC BY-NC-SA 4.0)](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh_TW) 授權條款。

簡單來說，您可以自由地：
-   **分享** — 以任何媒介或格式重製及散布本資料。
-   **修改** — 重混、轉換本資料、及依本資料建立新資料。

惟需遵照下列條件：
-   **姓名標示** — 您必須給予適當表彰。
-   **非商業性** — 您不得將本資料用於商業目的。
-   **相同方式分享** — 若您重混、轉換、或依本資料建立新資料，則必須以與原始資料相同的授權條款散布您的貢獻物。
